<!DOCTYPE html>
<meta charset="utf-8">
<script src="https://d3js.org/d3.v4.min.js"></script>
<body>
<script>
// 擷取時間
var parseTime = d3.timeParse("%H:%M");

// 設定車站資料
var mileage = {
    NAG:  -3.298,
    TPE:   5.904,
    BAC:  13.120,
    TAY:  42.285,
    HSC:  72.179,
    MIL: 104.865,
    TAC: 165.733,
    CHH: 193.886,
    YUL: 218.480,
    CHY: 251.585,
    TNN: 313.860,
    ZUY: 345.188,
}, intervals = {
    TPE: -3,
    BAC: -1,
    TAY: -1,
    HSC: -1,
    MIL: -1,
    TAC: -2,
    CHH: -1,
    YUL: -1,
    CHY: -1,
    TNN: -1,
};

// 設定範圍
var margin = {top: 30, right: 50, bottom: 30, left: 50},
    width = 1300 - margin.left - margin.right,
    height = 700 - margin.top - margin.bottom;

// 設定 SVG
var svg = d3.select("body")
    .append("svg")
        .attr("width", width + margin.left + margin.right)
        .attr("height", height + margin.top + margin.bottom)
    .append("g")
        .attr("transform", "translate(" + margin.left + ", " + margin.top + ")");

// 設定 X 軸
var x = d3.scaleTime()
    // 座標範圍
    .range([0, width])
    // 資料範圍
    .domain([parseTime("07:00"), parseTime("09:00")]),
    xAxisBottom = d3.axisBottom(x).ticks(40),
    xAxisTop = d3.axisTop(x).ticks(40);

// 設定 Y 軸
var y = d3.scaleLinear()
    .range([0, height])
    .domain([mileage.NAG, mileage.ZUY]),
    yAxisLeft = d3.axisLeft(y).ticks(20),
    yAxisRight = d3.axisRight(y).ticks(20);

// 畫 X 軸
svg.append("g")
    .attr("class", "x axis bottom")
    .attr("transform", "translate(0, " + height + ")")
    .call(xAxisBottom);
svg.append("g")
    .attr("class", "x axis top")
    .call(xAxisTop);

// 畫 Y 軸
svg.append("g")
    .attr("class", "y axis left")
    .call(yAxisLeft);
svg.append("g")
    .attr("class", "y axis right")
    .attr("transform", "translate(" + width + ", 0)")
    .call(yAxisRight);
</script>
</body>
